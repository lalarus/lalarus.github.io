<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-05-05">
<meta name="description" content="Based on workshops and interviews, I developed a clickable prototype and a design specification document.">

<title>Larissa Lang – Redesigning a website for a federal state in Germany</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/img/favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../site_libs/quarto-contrib/iconify-1.0.7/iconify-icon.min.js"></script>
<script src="../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<meta property="og:title" content="Larissa Lang - Redesigning a website for a federal state in Germany">
<meta property="og:description" content="Based on workshops and interviews, I developed a clickable prototype and a design specification document.">
<meta property="og:image" content="https://larissalang.com/portfolio/01_ClusterportalBW/img/clusterportal-title.jpg">
<meta property="og:site_name" content="Larissa Lang">
<meta property="og:image:alt" content="A notebook computer against a dark background, the landingpage of a website.
">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Larissa Lang</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about/index.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../portfolio/index.html"> 
<span class="menu-text">Portfolio</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#team" id="toc-team" class="nav-link active" data-scroll-target="#team">Team</a></li>
  <li><a href="#duration" id="toc-duration" class="nav-link" data-scroll-target="#duration">Duration</a></li>
  <li><a href="#process" id="toc-process" class="nav-link" data-scroll-target="#process">Process</a></li>
  <li><a href="#impact" id="toc-impact" class="nav-link" data-scroll-target="#impact">Impact</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Redesigning a website for a federal state in Germany</h1>
  <div class="quarto-categories">
    <div class="quarto-category">co-design workshop</div>
    <div class="quarto-category">interviews</div>
    <div class="quarto-category">prototyping</div>
    <div class="quarto-category">technical feasibility</div>
  </div>
  </div>

<div>
  <div class="description">
    <p>Based on workshops and interviews, I developed a clickable prototype and a design specification document.</p>
  </div>
</div>


<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 5, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="column-body-outset callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
TLDR <iconify-icon inline="" icon="fa-solid:certificate" style="font-size: 0.75em;"></iconify-icon>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<section id="product" class="level4">
<h4 class="anchored" data-anchor-id="product">Product</h4>
<p>Clusterportal In A Federal State is a <span class="highlight">website</span> that aims to foster cooperation and innovation systems, enabling regional businesses to master transformation challenges and structural change. Its core service is a <span class="highlight">database</span> listing all cluster initiatives, clusters and state-wide networks in a federal state of Germany.<br><br></p>
</section>
<section id="problem" class="level4">
<h4 class="anchored" data-anchor-id="problem">Problem</h4>
<p>All stakeholders criticized the website’s design as outdated, too text-heavy and counterintuitive. Website visits were generally low and the client was undecided as to whom the website should address at all.<br><br></p>
</section>
<section id="solution" class="level4">
<h4 class="anchored" data-anchor-id="solution">Solution</h4>
<p>I created a clickable <span class="highlight">website prototype</span> and a <span class="highlight">design specification document</span>, outlining which technical and design criteria the future website should fulfill.</p>
</section>
</div>
</div>
</div>
<section id="team" class="level2">
<h2 class="anchored" data-anchor-id="team">Team</h2>
<p>We worked in this project in a team of 5. My colleagues were design thinking facilitators while I was solely responsible for prototyping, design and technical feedback, and the final hand-off. I also co-facilitated workshops and analyzed interviews.</p>
</section>
<section id="duration" class="level2">
<h2 class="anchored" data-anchor-id="duration">Duration</h2>
<p>9 weeks.</p>
</section>
<section id="process" class="level2 clusterportal">
<h2 class="clusterportal anchored" data-anchor-id="process">Process</h2>
<section id="clusterportal-in-a-federal-state-aims-to-foster-cooperation-and-innovation-between-companies-and-businesses-in-the-state." class="level3">
<h3 class="anchored" data-anchor-id="clusterportal-in-a-federal-state-aims-to-foster-cooperation-and-innovation-between-companies-and-businesses-in-the-state."><span class="highlight2">Clusterportal In A Federal State aims to foster cooperation and innovation between companies and businesses in the state.</span></h3>
<p>The website’s core service is a database listing all cluster initiatives, clusters and state-wide networks in the federal state. Complemented by information on funding programs, industry news and persons to connect, the website aims to enable regional businesses to master transformation challenges and structural change.</p>
</section>
<section id="however-the-websites-current-appearance-is-far-from-being-called-innovative." class="level3">
<h3 class="anchored" data-anchor-id="however-the-websites-current-appearance-is-far-from-being-called-innovative."><span class="highlight2">However, the website’s current appearance is far from being called innovative.</span></h3>
<p>For this reason, the state’s ministry of Economic Affairs asked us to develop a redesigned Clusterportal. We put together a 9-week long design thinking process which involved all relevant stakeholders. Rooted in this user-centered approach, we aimed to develop the content, structure and requirements for a redesigned Clusterportal.</p>
</section>
<section id="the-kick-off-workshop-reveals-this-project-is-more-than-just-a-design-refresh." class="level3">
<h3 class="anchored" data-anchor-id="the-kick-off-workshop-reveals-this-project-is-more-than-just-a-design-refresh."><span class="highlight2">The kick-off workshop reveals: this project is more than just a design refresh.</span></h3>
<p>As expected, the workshop participants described the current design of Clusterportal as outdated, too text-heavy, and not intuitive. Beyond that, we identified an even more profound problem: it was unclear to our client whether and how different stakeholders were using the website. Moreover, they were undecided as to whom the website should address at all. We therefore had the participants work with context &amp; stakeholder maps as well as HMW questions, defining the status-quo, target groups and objectives.</p>
</section>
<section id="of-the-content-is-not-relevant-for-me-stakeholder-interviews-shed-light-on-current-usage-pain-points-and-needs." class="level3">
<h3 class="anchored" data-anchor-id="of-the-content-is-not-relevant-for-me-stakeholder-interviews-shed-light-on-current-usage-pain-points-and-needs."><span class="highlight2"><em>“80% of the content is not relevant for me”</em>: Stakeholder interviews shed light on current usage, pain points and needs.</span></h3>
<p>We conducted 10 semi-structured interviews with representatives of all three target groups – that was, cluster managers, business development managers, and company representatives. They commonly voiced the following concern: Clusterportal comes across as a self-promotion campaign for the state instead of meeting the needs of information seeking, networking and exchange.</p>
<section id="learnings" class="level4 learnings">
<h4 class="anchored" data-anchor-id="learnings">Learnings</h4>
<p><strong>Recruiting (the right) interview participants requires considerable time and effort.</strong><br> We had 3 weeks to come up with a suitable interview guide based on the workshop results, recruit participants from all three target groups, conduct interviews, and analyze them. It turned out that 2 stakeholders – business development managers and company representatives – were not easy to recruit. Given the tight schedule, we were thus able to interview much fewer people from these target groups compared to the cluster managers.</p>
</section>
</section>
<section id="we-conduct-a-co-design-workshop-to-move-from-interview-insights-to-idea-generation." class="level3">
<h3 class="anchored" data-anchor-id="we-conduct-a-co-design-workshop-to-move-from-interview-insights-to-idea-generation."><span class="highlight2">We conduct a co-design workshop to move from interview insights to idea generation.</span></h3>
<p>We presented our interview results during a second workshop with our client. Based on these insights, we had the participants develop personas that provided a clear picture of the three stakeholder groups. We then tasked them with sketching a subpage for each target group through card sorting and paper prototyping.</p>
</section>
<section id="where-my-main-contribution-comes-in-creating-clickable-prototypes." class="level3">
<h3 class="anchored" data-anchor-id="where-my-main-contribution-comes-in-creating-clickable-prototypes."><span class="highlight2">Where my main contribution comes in: Creating clickable prototypes.</span></h3>
<p>I created a clickable prototype that featured a dedicated area for each target group. In doing so, I incorporated the three design suggestions from the workshop. For the overall design, I chose a cleaner and text-reduced card layout because interviewees had criticized the current website as cluttered, counterintuitive, and non-responsive.</p>
</section>
<section id="after-a-third-workshop-of-prototype-testing-and-gathering-feedback-i-am-faced-with-the-challenge-of-creating-a-final-prototype-that-considers-everything-we-have-learned-so-far." class="level3">
<h3 class="anchored" data-anchor-id="after-a-third-workshop-of-prototype-testing-and-gathering-feedback-i-am-faced-with-the-challenge-of-creating-a-final-prototype-that-considers-everything-we-have-learned-so-far."><span class="highlight2">After a third workshop of prototype testing and gathering feedback, I am faced with the challenge of creating a final prototype that considers everything we have learned so far.</span></h3>
<p>Meeting the need of all three target groups, the final prototype showcases events, success stories and news prominently on the landing page. I also designed for the needs of each target group. For example, to enable cluster managers to network and market their own cluster, each subpage now features a contact card which includes the person’s profile picture, responsibilities, and main areas of advice.</p>
</section>
<section id="the-outcome-a-website-prototype-and-a-design-specification-document" class="level3">
<h3 class="anchored" data-anchor-id="the-outcome-a-website-prototype-and-a-design-specification-document"><span class="highlight2">The outcome: a website prototype and a design specification document</span></h3>
<p>The hand-off was preceded by several rounds of iteration with the client (see challenge). Apart from the prototype, I was also responsible for creating a design specification document as part of the client’s future request for proposal (RFP) for the website’s implementation. The document describes which technical and design criteria the future website should fulfill. The prototype visualizes the information structure and layout of the new website portal.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="img/8-finalhandhoff.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="⮤ Mockup of the final landing page (left) and the Call for Proposals (right)."><img src="img/8-finalhandhoff.jpg" class="round img-fluid figure-img" alt="Two images separated by a vertical line. The image on the left shows the mockup of a website. The image on the right shows a pile of paper. The top one bears the title Call for proposals"></a></p>
<figcaption>⮤ Mockup of the final landing page (left) and the Call for Proposals (right).</figcaption>
</figure>
</div>
<section id="learnings-1" class="level4 learnings">
<h4 class="anchored" data-anchor-id="learnings-1">Learnings</h4>
<p><strong>Political interests can hamper a user-centered design.</strong><br> The client wished to abandon many design suggestions during the final iterations at the end of the project. Instead, the client asked to include and highlight content that had previously been considered too political and irrelevant by workshop participants and interview respondents alike.</p>
</section>
</section>
</section>
<section id="impact" class="level2">
<h2 class="anchored" data-anchor-id="impact">Impact</h2>
<p>While the website didn’t launch, to track success and impact, I would have monitored the following:</p>
<ul>
<li><em>Happiness</em>:<br>
<ul>
<li>Growth in <strong>positive feedback</strong> compared to previous interviews, indicating stakeholders find Clusterportal well-structured, intuitive, and meeting their needs.</li>
</ul></li>
<li><em>Engagement</em>:<br>
<ul>
<li>Increased <strong>overall session length</strong> on the website as well as increased <strong>page impressions</strong> for news, showing that the website is well-structured and shows relevant content.</li>
</ul></li>
<li><em>Adoption</em>:<br>
<ul>
<li>Growth in <strong>website visits</strong> (unique visitors) and <strong>newsletter subscriptions</strong>, reflecting more stakeholders discovering the portal.</li>
</ul></li>
<li><em>Retention</em>:<br>
<ul>
<li>Lower <strong>bounce-rates</strong>, indicating stakeholders find what they are looking for on the portal.</li>
</ul></li>
<li><em>Task success</em>:<br>
<ul>
<li>Increased <strong>sign-ups</strong> for events and funding programs through the website, suggesting the website is successful in helping stakeholders find and take part in relevant activities.</li>
<li>Growth in <strong>clicks</strong> on e-mail &amp; phone links indicating that stakeholders find relevant contact persons to get in touch with.</li>
</ul></li>
</ul>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("^(?:http:|https:)\/\/(www\.)*(larissalang\.com|lalarus\.github\.io)\/.*$");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2024 <iconify-icon inline="" icon="line-md:coffee-loop"></iconify-icon> Larissa Lang, Stockholm<br> Made with <a href="https://quarto.org">Quarto</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../accessibility.html">
<p>I do not track you.</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../../license.html">
<p>License</p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"openEffect":"fade","loop":false,"descPosition":"bottom","selector":".lightbox","closeEffect":"fade"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>